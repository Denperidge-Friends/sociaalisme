<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- https://picocss.com/ -->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">

    <style>
body {
    width: 80%;
    margin: auto;
}    </style>

    <title>Sociaalisme</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/add-to-calendar-button@1/assets/css/atcb.min.css">
</head>
<body>
<main>
    <h1>Sociaalisme</h1>
    <section>
        <h2>Upcoming Events</h2>

        <nav>
            <ul id="sources">
                <li>Filter:</li>
                <li><a href="#" id="campagne-rosa-nl">Campagne ROSA - NL</a></li>
                <li><a href="#" id="anarchistisch-collectief-antwerpen">Anarchistisch Collectief Antwerpen</a></li>
            </ul>
        </nav>

        <div id="events" class="grid">
            <article class="anarchistisch-collectief-antwerpen">
                <img src="img/https-www-facebook-com-events-13112420996874422022-11-24t12-30-00-01-00.jpg"/>
                <h3>Rector: annuleer de racistische lezing!</h3>
    
                <p>12:30 - Thursday 24 Nov 2022</p>
                <p>@ Rectoraat UGent</p>
                <p>Organised by Anarchistisch Collectief Antwerpen</p>
                <a href="https://en-gb.facebook.com/events/1311242099687442/?acontext=%7B%22ref%22%3A51%2C%22source%22%3A5%2C%22action_history%22%3A[%7B%22surface%22%3A%22page%22%2C%22mechanism%22%3A%22main_list%22%2C%22extra_data%22%3A%22%5C%22[]%5C%22%22%7D]%2C%22has_source%22%3Atrue%7D" target="_blank">View on Facebook</a>
                
                <br><br>

                <div class="atcb" style="display: none;">
                    {
                        "name": "Rector: annuleer de racistische lezing!",
                        "startDate": "2022-11-24",
                        "startTime": "12:30",
                        "endTime": "14:30",
                        "location": "Rectoraat UGent",
                        "description": "Organized by Anarchistisch Collectief Antwerpen. See https://www.facebook.com/events/1311242099687442/ for more info",
                        "timeZone": "Europe/Brussels",
                        "uid": "https-www-facebook-com-events-13112420996874422022-11-24t12-30-00-01-00",

                        "label": "Add Rector:... to your Calendar",
                        "iCalFileName": "https-www-facebook-com-events-13112420996874422022-11-24t12-30-00-01-00",

                        "options": ["Apple", "Google|Google Calendar", "Microsoft365", "Outlook.com", "Yahoo", "iCal|iCal (.ics file)"],
                        "trigger": "click",
                        "listStyle": "overlay",
                        "lightMode": "system"
                    }
                </div>
            </article>
            <article class="campagne-rosa-nl">
                <img src="img/https-www-facebook-com-events-6207300665021972022-11-27t13-00-00-01-00.jpg"/>
                <h3>With ROSA, marching against violence against women and LGBTQIA+</h3>
    
                <p>13:00 - Sunday 27 Nov 2022</p>
                <p>@ Gare Centrale</p>
                <p>Organised by Campagne ROSA - NL</p>
                <a href="https://www.facebook.com/events/620730066502197/" target="_blank">View on Facebook</a>
                
                <br><br>

                <div class="atcb" style="display: none;">
                    {
                        "name": "With ROSA, marching against violence against women and LGBTQIA+",
                        "startDate": "2022-11-27",
                        "startTime": "13:00",
                        "endTime": "15:00",
                        "location": "Gare Centrale",
                        "description": "Organized by Campagne ROSA - NL. See https://www.facebook.com/events/620730066502197/ for more info",
                        "timeZone": "Europe/Brussels",
                        "uid": "https-www-facebook-com-events-6207300665021972022-11-27t13-00-00-01-00",

                        "label": "Add With... to your Calendar",
                        "iCalFileName": "https-www-facebook-com-events-6207300665021972022-11-27t13-00-00-01-00",

                        "options": ["Apple", "Google|Google Calendar", "Microsoft365", "Outlook.com", "Yahoo", "iCal|iCal (.ics file)"],
                        "trigger": "click",
                        "listStyle": "overlay",
                        "lightMode": "system"
                    }
                </div>
            </article>
        </div>
    </section>

    <section>
        <h2>Calendar feeds</h2>
        <p>If you want to, you can also subscribe to an ical/.ics feed (sometimes called public url).<br>This will automatically add any events added here to your own calendar.</p>
        <ul class="grid">
            <li>Subscribe to all pages & communities listed here: <input type="url" value="https://sociaalisme.denperidge.com/ical/all.ics" readonly></li>
                <li>
                    <label>Subscribe to Campagne ROSA - NL: </label>
                    <input type="url" readonly value="https://sociaalisme.denperidge.com/ical/campagne-rosa-nl.ics">
                </li>
                <li>
                    <label>Subscribe to Anarchistisch Collectief Antwerpen: </label>
                    <input type="url" readonly value="https://sociaalisme.denperidge.com/ical/anarchistisch-collectief-antwerpen.ics">
                </li>
        </ul>
    </section>

    <section id="pages">
        <h2>Pages & communities</h2>
        <p>Check out the pages and communities that organise these events!</p>
        <ul>
            <li><a href="https://www.facebook.com/LSPPSL.LinkseSocialistischePartij/upcoming_hosted_events" target="_blank">https://www.facebook.com/LSPPSL.LinkseSocialistischePartij/upcoming_hosted_events</a></li>
            <li><a href="https://www.facebook.com/anarchocollectiefantwerpen/events/" target="_blank">https://www.facebook.com/anarchocollectiefantwerpen/events/</a></li>
            <li><a href="https://www.facebook.com/ALSAntwerpen/upcoming_hosted_events" target="_blank">https://www.facebook.com/ALSAntwerpen/upcoming_hosted_events</a></li>
            <li><a href="https://www.facebook.com/CampagneROSANL/upcoming_hosted_events" target="_blank">https://www.facebook.com/CampagneROSANL/upcoming_hosted_events</a></li>
        </ul>
        <p>(Note: this page is not made by the owners of the pages/communities listed above)</p>
    </section>
</main>

<footer class="grid">
    <span>
        Events collected & page generated using
        <a href="https://github.com/Denperidge/facebook-event-aggregator">Facebook Event Aggregator</a>.
    </span>
    <span>CSS Stylesheet by <a href="https://picocss.com/" target="_blank">Pico.css</a></span>
    <span>Calendar buttons by <a href="https://add-to-calendar-button.com/" target="_blank">ATCB</a></span>
    <span id="last-update">Last update: <span id="2022-11-15T02:44:15.856617">02:44, 11/15/22</span></span>
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
<!-- https://github.com/add2cal/add-to-calendar-button -->
<script src="https://cdn.jsdelivr.net/npm/add-to-calendar-button@1" async defer></script>
<script>$(document).ready(function() {
    sourceFilters = $("nav a");
    eventSelector = "#events article";
    events = $(eventSelector);

    sourceFilters.on("click", function(e) {
        sourceFilter = $(e.target);
        console.log(sourceFilter.attr("id"))

        // If not pressed before,
        if (sourceFilter.attr("role") != "button") {
            sourceFilters.attr("role", "");  // Disable any other active buttons
            sourceFilter.attr("role", "button");  // Activate the current

            let selectedEvents = $(`${eventSelector}.${sourceFilter.attr("id")}`);

            events.not(selectedEvents).hide(400);  // Hide all events
            // Besides of the selected source
            selectedEvents.show(400);
        } else {
            sourceFilter.attr("role", "");
            events.show(400);
        }
    });

    lastUpdateElement = $("#last-update span").first();
    lastUpdate = Date.parse(lastUpdateElement.attr("id"));
    // Thanks to https://stackoverflow.com/a/5511376
    let yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);

    if (lastUpdate < yesterday) {
        lastUpdateElement.css("color", "red");
    }

    
});</script>
</body>
</html>